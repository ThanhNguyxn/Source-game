const c=document.getElementById('gameCanvas'),ctx=c.getContext('2d');c.width=600;c.height=700;let gameRunning=false,score=0,level=1,player={x:300,y:650,r:15},shapes=[];function addShape(){shapes.push({x:Math.random()*(c.width-40)+20,y:-30,w:30+Math.random()*20,h:30+Math.random()*20,speed:2+level*0.5,type:Math.floor(Math.random()*3)})}function draw(){ctx.fillStyle='#1a1a2e';ctx.fillRect(0,0,c.width,c.height);ctx.fillStyle='#00ff88';ctx.beginPath();ctx.arc(player.x,player.y,player.r,0,Math.PI*2);ctx.fill();shapes.forEach(s=>{ctx.fillStyle='#ff6b6b';if(s.type===0)ctx.fillRect(s.x,s.y,s.w,s.h);else if(s.type===1){ctx.beginPath();ctx.arc(s.x,s.y,s.w/2,0,Math.PI*2);ctx.fill()}else{ctx.beginPath();ctx.moveTo(s.x,s.y-s.h/2);ctx.lineTo(s.x+s.w/2,s.y+s.h/2);ctx.lineTo(s.x-s.w/2,s.y+s.h/2);ctx.closePath();ctx.fill()}})}function update(){if(!gameRunning)return;shapes.forEach((s,i)=>{s.y+=s.speed;if(s.y>c.height){shapes.splice(i,1);score+=10;document.getElementById('score').textContent=score;if(score%100===0){level++;document.getElementById('level').textContent=level}}const dx=player.x-s.x,dy=player.y-s.y,dist=Math.sqrt(dx*dx+dy*dy);if(dist<player.r+s.w/2){gameRunning=false;document.getElementById('finalScore').textContent=score;document.getElementById('gameOver').classList.remove('hidden')}});if(Math.random()<0.02+level*0.01)addShape();draw()}c.addEventListener('mousemove',e=>{if(!gameRunning)return;const rect=c.getBoundingClientRect();player.x=(e.clientX-rect.left)*(c.width/rect.width);player.x=Math.max(player.r,Math.min(c.width-player.r,player.x))});document.getElementById('startBtn').addEventListener('click',()=>{gameRunning=true;score=0;level=1;shapes=[];player.x=300;document.getElementById('instructions').classList.add('hidden');document.getElementById('score').textContent=0;document.getElementById('level').textContent=1;setInterval(update,16)});document.getElementById('restartBtn').addEventListener('click',()=>{score=0;level=1;shapes=[];gameRunning=true;player.x=300;document.getElementById('gameOver').classList.add('hidden');document.getElementById('score').textContent=0;document.getElementById('level').textContent=1});

